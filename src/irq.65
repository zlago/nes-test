.include "nes.i" ; hardware definitions

.segment "CODE"
; interrupt
IRQ:
.export IRQ
	; save registers
		pha ; push a
		txa
		pha ; push x
		tya
		pha ; push y
	; run IRQ stuff
		nop
	; restore registers
		pla ; pull y
		tay
		pla ; pull x
		tax
		pla ; pull a
	; done, return
	rti